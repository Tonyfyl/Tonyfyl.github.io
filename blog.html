<!doctype html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>博客 · BerryDays</title>
<style>body{font-family:system-ui;max-width:900px;margin:24px auto;padding:0 16px;line-height:1.7}
a{color:#0ea5e9;text-decoration:none}a:hover{text-decoration:underline}
.card{border:1px solid #e5e7eb;border-radius:12px;padding:12px 14px;margin:10px 0}</style>
<h1>博客</h1>
<p><a href="https://github.com/Tonyfyl/Tonyfyl.github.io/issues/new?labels=blog" target="_blank">✍️ 发新文章</a></p>
<div id="list">加载中…</div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
const owner='Tonyfyl', repo='Tonyfyl.github.io';
(async ()=>{
  const r=await fetch(`https://api.github.com/repos/${owner}/${repo}/issues?labels=blog&state=open&per_page=50`,
    {headers:{Accept:'application/vnd.github+json'}});
  const items=await r.json();
  const el=document.getElementById('list');
  if(!Array.isArray(items)){ el.textContent='加载失败'; return; }
  items.sort((a,b)=>new Date(b.created_at)-new Date(a.created_at));
  el.innerHTML=items.map(i=>`
    <div class="card">
      <div style="opacity:.7">${i.created_at.slice(0,10)}</div>
      <h3 style="margin:6px 0">${i.title}</h3>
      <p style="opacity:.85">${(i.body||'').split(/\n{2,}/)[0].replace(/\r?\n/g,' ').slice(0,140)}…</p>
      <a href="<a href="post.html?id=${i.number}">阅读 →</a>=${i.number}">阅读 →</a>
    </div>`).join('');
})();
</script>
